<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>プログラミング復習ページ</title>
</head>
<body>
    <h1>ここに過去に習ったプログラミングの知識をとりためていきましょう。</h1>
    <div class="section">
        <h2>タイトル</h2>
        <p>文章文章文章文章文章文章文章文章文章文章文章文章</p>
    </div>
    <!--NY-->
    <div class="section">
        <!--css-->
        <style>
            body {
                margin: 0;
            }
            #btn_main {
                position: fixed;
                bottom: 0;
                height: 100px;
                width: 100%;
                background-color: rgb(207, 164, 118);
                opacity: 0;
            }
            .Btn {
                width: 50px;
                height: 50px;
            }
            #gameBtn {
                width: 217px;
                margin: 10px auto;
            }
            #gameMain {
                width: 100%;
                height: 300px;
                position: relative;
            }
            #gameMain img {
                position: absolute;
            }
            #out {
                margin: 5px 0 0 80px;
            }
        </style>

        <!--main-->
        <h2>ボタンを押すと車を操作できます</h2>
        <label><input type="button" name="btn" id="carBtn" value="動かす"></label>
        <div id="gameMain">
            <img src="./images/carright.png" alt="car">
        </div>
        <div id="btn_main">
            <div id="gameBtn">
                <label><input id="left" class="Btn" type="button" value="←"></label>
                <label><input id="up" class="Btn" type="button" value="↑"></label>
                <label><input id="down" class="Btn" type="button" value="↓"></label>
                <label><input id="right" class="Btn" type="button" value="→"></label>
                <label><input id="out" type=button value="終わる"></label>
            </div>
        </div>

        <!--js-->
        <script>
            function sleep(waitMsec) {
                var startMsec = new Date();

                // 指定ミリ秒間だけループさせる（CPUは常にビジー状態）
                while (new Date() - startMsec < waitMsec);
            }
            let y = 0, x = 0;
            let img = document.querySelector('#gameMain img');

            document.querySelector('#carBtn').addEventListener('mousedown', () => {
                document.querySelector('#btn_main').setAttribute('style', 'opacity: 1;');
            })
            document.querySelector('#out').addEventListener('mousedown', () => {
                document.querySelector('#btn_main').setAttribute('style', 'opacity: 0;');
            })
            document.querySelector('#left').addEventListener('mousedown',() => {
                console.log('押されました');
                img.src = "./images/carleft.png"
                x -= 10;
                img.style. left = `${x}px`;
                img.style. top = `${y}px`;
                console.log('ひだり');
                sleep(500);
            })
            document.querySelector('#right').addEventListener('mousedown',() => {
                console.log('押されました');
                img.src = "./images/carright.png"
                x += 10;
                img.style. left = `${x}px`;
                img.style. top = `${y}px`;
                console.log('みぎ');
                sleep(500);
            })
            document.querySelector('#up').addEventListener('mousedown',() => {
                console.log('押されました');
                img.src = "./images/carup.png"
                y -= 10;
                img.style. left = `${x}px`;
                img.style. top = `${y}px`;
                console.log('うえ');
                sleep(500);
            })
            document.querySelector('#down').addEventListener('mousedown',() => {
                console.log('押されました');
                img.src = "./images/cardown.png"
                y += 10;
                img.style. left = `${x}px`;
                img.style. top = `${y}px`;
                console.log('した');
                sleep(500);
            })
        </script>
    </div>
</body>
</html>